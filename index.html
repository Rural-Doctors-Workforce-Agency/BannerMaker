<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <div class="settings">
        <h1>Banner Creator</h1>
        <form>
            <div class="mb-3">
                <input class="form-check-input" type="checkbox" id="menu-toggle"/>
                <label class="form-check-label" for="menu-toggle">Hide Line 2</label><br>
            </div>
            <button type="button" class="btn btn-primary" onclick="download_image()">Download</button>
        </form>
    </div>
    <div class="generation">
        <div class="background" id="banner">
            <div class="content">
                <h4>RDWA <span>I</span> <span class="after">RURAL DOCTORS WORKFORCE AGENCY</span></h4>
                <h1 contentEditable="true" id="line1">CULTURAL COMPETENCY GRANT</h1>
                <h2 contentEditable="true" id="line2">APPLICATION FORM 2021-22</h2>
            </div>
            <div class="image">
                <img src="./RDWA_Horizontal_Logo_RBG_white_text.png">                
            </div>
        </div>
    </div>

    <script src="./dom-to-image.min.js">Download</script>
    <script>
        document.getElementById('menu-toggle').onchange = function() {
            document.getElementById("line2").style.display = this.checked ? 'none' : 'block';
        }

        function download_image() {
            var line1 = document.getElementById("line1").innerHTML;
            var line2 = document.getElementById("line2").innerHTML;

            domtoimage.toJpeg(document.getElementById('banner'), { quality: 0.95 })
                .then(function (dataUrl) {
                    var link = document.createElement('a');
                    link.download = line1 + ' ' + line2 + ' Banner.jpeg';
                    link.href = dataUrl;
                    link.click();
                });
        }
    </script>
</body>
</html>